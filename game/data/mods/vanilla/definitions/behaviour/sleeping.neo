
///////////////////////////////////////////////////////////////////////////// Effects

///////////////////////////////////////////////////////////////////////////// Drives

Drive: driSleep {
	Script: condition {
		//require((.attFatigue > .attFatigueSensitivity) || (.attNutrition < 0));
		require(getLightLevel(self) <= .attLightSensitivity);
	}

	solutions {
		proSleep;
	}

	Script: getWeight() {
	    return(max(.attFatigue - .attFatigueSensitivity, 0));
	}
}

///////////////////////////////////////////////////////////////////////////// Processes

Process: proSleep {
	Script: process {
        deleteEffects(self, effHunger);
	    addOccupation(self, .attSleepTime, proSleep->awake);
	    ..attSleeping = 1;
	}

	Script: awake {
	    ..attSleeping = 0;
	}
}
